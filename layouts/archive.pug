include /mixins/script.pug
doctype html
html 
    head 
        +meta(user.note,i18n('Archives'))
        +BasicECMAScript
        +useComponent('Neo/Basic')
        +useComponent('Neo/PageNavigator.Test')
        +useComponent('Neo/NavigationBar')
        +useComponent('Neo/Footer')
        title= __title__(i18n('Archives'),user.name)
    body(OCP='OVERRIDE') 
        +NavigationBar
        +PageLabel(i18n('Archives'))
        main.uWcon
            - let used_year = []
            - let y = {}
            each bid in cycling.value
                - let post = ID[bid]
                if !used_year.includes(post.datz.y)
                    - y[post.datz.y] = []
                    - used_year.push(post.datz.y)
                - y[post.datz.y].push(bid)
            each v,k in y
                h2= k
                ul.cPostCon
                    each item in v
                        +SinglePost(IDMap.get(item))
            +PageNavigator(cycling.total,cycling.now,'archive')
        +Footer