mixin prelude(post)
    if post.property.highlight
        link(rel="stylesheet",href="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.8.0/styles/default.min.css")
        script(src="https://cdn.bootcdn.net/ajax/libs/highlight.js/11.8.0/highlight.min.js")
        script.
            window.addEventListener('DOMContentLoaded',()=>{
                hljs.highlightAll();
            })
    script(src=linkPrefix("files/post.js"))
    script(src=linkPrefix("files/ui.js"))
    link(rel="stylesheet",href=linkPrefix("files/post.css"))

mixin meta(post)
    link(rel="icon",href=file("files/icon.svg"))
    meta(charset="utf-8")
    meta(name="viewport",content="width:device-width,initial-scale=1.0")
    meta(name="author",content=user.name)
    meta(name="description",content=post.foreword)
    meta(name="keywords",content=post.keywords.join(" "))
    meta(http-equiv="content-language",content=settings.language)

mixin PageLabel(fo)
    if fo
        - let label = fo
        include /components/PageLabel.pug
        .uWcon
            b.meta
                date= post.date.toLocaleDateString(settings.language,{dateStyle:'full'})
                span= post.category
                span= post.wordCount+i18n('Characters')
    else
        .uWcon
            .h1!= post.title
            b.meta
                date= post.date.toLocaleDateString(settings.language,{dateStyle:'full'})
                span= post.category
                span= post.wordCount+i18n('Characters')